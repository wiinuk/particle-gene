(()=>{"use strict";var e={};function n(e){return e}e.m={},e.u=e=>e+".index.js",e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var r=t.getElementsByTagName("script");r.length&&(n=r[r.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.b=document.baseURI||self.location.href;const t=["a","animate","animateMotion","animateTransform","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tspan","use","view"];let r;function a(e,n,a){const o=(r||(r=new Set(t))).has(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);for(const[e,t]of Object.entries(n??{}))"children"!==e&&("style"!==e||"function"!=typeof t?o.setAttribute(e,String(t)):t(o.style));const i=n?.children;if(i)if(Array.isArray(i))for(const e of i)e&&o.append(e);else o.append(i);return o}const o=a;let i=null;const s={initialize:{kind:"call",args:[n],result:n},mouseDown:{kind:"notify",args:[]},mouseMove:{kind:"notify",args:[n,n]},mouseUp:{kind:"notify",args:[]},canvasWrapperResized:{kind:"notify",args:[n,n]}},c=new WeakMap;function d(e,n){if(n.length===e+1){const e=n[n.length-1];return n.length--,e}}function f(e,n,t){const{kind:r}=n;switch(r){case"notify":return function(e,n,t){const r=n.args.length;return(...n)=>{t.postMessage({kind:"notify",methodName:e,args:n},d(r,n))}}(e,n,t);case"call":return function(e,n,t){const r=n.args.length;return(...n)=>{const a=function(e){const n=c.get(e);if(n)return n;let t=0;const r=new Map,a={newId:function(){return t++},createPromiseFor:function(e){return new Promise(((n,t)=>{r.set(e,(e=>"return"===e.kind?n(e.result):t(e.reason)))}))}};return c.set(e,a),e.addEventListener("message",(e=>{const n=e.data;switch(n.kind){case"return":case"throw":{const{id:e}=n,t=r.get(e);if(!t)throw new Error(`handler ${e} not found`);r.delete(e),t(n)}}})),a}(t),o=a.newId(),i=a.createPromiseFor(o);return t.postMessage({kind:"call",methodName:e,args:n,id:o},d(r,n)),i}}(e,n,t);default:throw new Error(`unexpected kind: ${r}`)}}function l(e,n,t,r){return function(e,n){e.addEventListener("message",(t=>{const r=t.data;!function(e,n,t){const{kind:r}=t;switch(r){case"notify":return void n[t.methodName](...t.args);case"call":!function(e,n,t){const r=n.args;let a,o=!1;try{a=(0,e[n.methodName])(...r)}catch(e){o=!0,a=e}const{id:i}=n;o?t.postMessage({kind:"throw",id:i,reason:a}):a instanceof Promise?a.then((e=>{t.postMessage({kind:"return",id:i,result:e})}),(e=>{t.postMessage({kind:"throw",id:i,reason:e})})):t.postMessage({kind:"return",id:i,result:a})}(n,t,e)}}(e,n,r)}))}(e,t),function(e,n){const t=Object.create(null);return Object.keys(n).forEach((r=>{t[r]=f(r,n[r],e)})),t}(e,n)}(async function(){await("loading"!==document.readyState?Promise.resolve():new Promise((e=>document.addEventListener("DOMContentLoaded",(()=>e()))))),function(e,...n){const t="string"==typeof e?e:String.raw(e,...n);null==i&&(i=document.createElement("style"),document.head.appendChild(i)),i.textContent+=t+"\n",document.head.appendChild(i)}("html, body {\r\n    margin: 0;\r\n}\r\n\r\n@media (orientation: landscape) {\r\n    .main-element-8df5c844ba2c8dd908f0752db2787614c43efb85 {\r\n        flex-flow: row;\r\n    }\r\n}\r\n@media (orientation: portrait) {\r\n    .main-element-8df5c844ba2c8dd908f0752db2787614c43efb85 {\r\n        flex-flow: column;\r\n    }\r\n}\r\n\r\n.main-element-8df5c844ba2c8dd908f0752db2787614c43efb85 {\r\n    display: flex;\r\n    /* flex-flow: column; */\r\n    /* justify-content: center;\r\n    align-items: center; */\r\n}\r\n.main-canvas-wrapper-d3c37627cd2482525a16aad92817a12a98cdac03 {\r\n    display: flex;\r\n    width: 100vmin;\r\n    height: 100vmin;\r\n}\r\n.main-canvas-435f6b62ecf22a441a122bde172a9624625948e4 {\r\n    background-color: lightgray;\r\n}\r\n");const n=o("canvas",{class:"main-canvas-435f6b62ecf22a441a122bde172a9624625948e4"}),t=o("div",{class:"main-canvas-wrapper-d3c37627cd2482525a16aad92817a12a98cdac03",children:n}),r=o("div",{class:"fps"}),c=a("div",{class:"main-element-8df5c844ba2c8dd908f0752db2787614c43efb85",children:[t,r]});new ResizeObserver((e=>{for(const n of e)n.target===t&&d.canvasWrapperResized(t.offsetWidth,t.offsetHeight)})).observe(t),document.body.append(c);const d=l(new Worker(new URL(e.p+e.u(811),e.b)),s,{fpsUpdated(e){r.innerText=`FPS: ${e}`}});n.addEventListener("pointerdown",(()=>d.mouseDown()));const f=()=>d.mouseUp();n.addEventListener("pointercancel",f),n.addEventListener("pointerleave",f),n.addEventListener("pointerout",f),n.addEventListener("pointerup",f),n.addEventListener("pointermove",(e=>d.mouseMove(e.offsetX,e.offsetY)));const u=n.transferControlToOffscreen();await d.initialize(u,[u]),d.canvasWrapperResized(t.offsetWidth,t.offsetHeight)})().catch((e=>console.error(e)))})();